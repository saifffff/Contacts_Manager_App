<!doctype html>
<html lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org"
th:replace="normal/base::layout(~{::section})"
>
<head>
<title>Index</title>
</head>
<body>
 <section>
 	<h2>All Contacts by : <span th:text="${cUser.name}"></span></h2>

			

	<div class="container-fluid cardContainer" >
	<div class="row" th:object="${userContacts}">
		
		<div 
			class="card col-md-4 col-sm-6 col-12 mb-2 mr-2" 
			style="width: 18rem;"
			th:each="contact,iterStat : ${userContacts}"
			>
<!-- 				  <img class="card-img-top" src="..." th:src="@{'/images/'+${contact.imageURL}}" alt="Card image cap"> -->
					<img class="card-img-top"
				     th:if="${contact.imageURL != null}" 
				     th:src="@{'/images/'+${contact.imageURL}}"
				     alt="Card image cap">
				
					<img class="card-img-top"  
					th:if="${contact.imageURL == null}"
				    th:src="@{/images/defaultPic.jpg}"  alt="Card image cap">
				     
				  <input type="hidden" th:name="${'contact.Name'+iterStat.count}" th:value="${contact.cid}">
				  <div class="card-body">
				    <h5 class="card-title" th:text="${contact.Name}">Card title</h5>
				    <p class="card-text" th:text="${contact.about}">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				  </div>
				  <ul class="list-group list-group-flush">
				    <li class="list-group-item" th:text="${contact.nickName}" >Cras justo odio</li>
				    <li class="list-group-item" th:text="${contact.phone}" >Dapibus ac facilisis in</li>
				    <li class="list-group-item" th:text="${contact.email}" >Vestibulum at eros</li>
				  </ul>
				  <div class="btns">
				  	<a href="#" th:href="@{/user/update-contact(contactId=${contact.cid},page=${currPage})}" class="btn btn-secondary">Update</a>
				  	<a href="#" th:href="@{/user/delete-contact(contactId=${contact.cid},page=${currPage})}" class="btn btn-danger">Delete</a>
				  </div>
				  
			</div>
		
	</div>
			
<!-- 		pagination -->

	<div class="pageContainer">
		<nav aria-label="Page navigation">
		  <ul class="pagination">
		    <li class="page-item">
		      <a class="page-link" href="#" th:href="${currPage == 0} ? '0' : ${currPage-1}" aria-label="Previous">
		        <span aria-hidden="true">&laquo;</span>
		      </a>
		    </li>
		    
		    <li class="page-item"
		     th:each="pg : ${#numbers.sequence(1,totalPages)}"
		     th:classappend="${pg-1 == currPage} ? 'active' : ''"
		     >
			    <a class="page-link" href="#" th:href="${pg-1}" >
			    	<span th:text="${pg}"></span>
			    </a>
		    </li>
		    
		    
		    <li class="page-item">
		      <a class="page-link" href="#" th:href="${currPage == totalPages-1} ? ${totalPages-1} : ${currPage+1}" aria-label="Next">
		        <span aria-hidden="true">&raquo;</span>
		      </a>
		    </li>
		  </ul>
		</nav>
	</div>

<!-- pagination -->
	</div>
 	
 </section>
</body>
</html>